{% extends 'site_structure/index.html' %}

{% load static %}

{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'site_structure/css/landing.css' %}">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
{% endblock %}

{% block nav %}
    <header id='placeholder' class='sticky'>
        <a class='title' href="{% url 'site_structure:home' %}">zephyrus</a>
        <h4 class='sub-heading'>beta</h4>
        <nav class="menu">
            <ul>
                <li {% if active == 'upload' %} class="active" {% endif %}><a  href="{% url 'upload:upload_form' %}">upload</a></li>
                <li {% if active == 'profile' %} class="active" {% endif %}><a href="{% url 'user_profile:overview' %}">profile</a></li>
                <li {% if active == 'about' %} class="active" {% endif %}><a href="{% url 'site_structure:about' %}">about</a></li>
                <li {% if active == 'contact' %} class="active" {% endif %}><a href="{% url 'site_structure:contact' %}">contact</a></li>
                <li {% if active == 'premium' %} class="active" {% endif %}><a href="{% url 'site_structure:premium' %}">zephyr</a></li>
                <li {% if active == 'signup' %} class="active" {% endif %}><a class='special' href="{% url 'signup:signup' %}">sign up</a></li>
                <li {% if active == 'login' %} class="active" {% endif %}><a class='special' href="{% url 'login:login' %}">login</a></li>
            </ul>
        </nav>
    </header>
{% endblock %}

{% block content %}
    <div class='hero'>
        <h1><span class='highlight'>StarCraft II is complicated</span><br>We help you make sense of it</h1>
        <div class='banner'>
            <span>Register your interest on Discord</span>
            <br>
            <a href='https://www.signupanywhere.com/signup/4vi8vyd9'>Click here for E-mail instead</a>
            <br>
            <button><a href='https://discord.gg/Bdb5zFV'>Join Server</a></button>
        </div>
        <img class='video' src="{% static 'site_structure/racesfit.svg' %}">
    </div>

    <div class='solution'>
        <h2 class='thick-highlight'>Understand your play</h2>
        <p class='description'>
            You upload replays, then we analyze them and provide you with <span class='underline'>relevant</span>, <span class='underline'>specific</span>
            <br>
             and <span class='underline'>practical</span> feedback to help
            you better understand how the match played out
        </p>
        <div class='feature-list'>
            <span class='feature f1'>
                <b class='feature-name'>Resource Management</b>
                <span class='feature-content'>
                    How well are you spending your resources?
                    Resource Management covers spending efficiency, spending breakdown and economy & army production
                </span>
                <img src="https://img.icons8.com/nolan/100/000000/mind-map.png" alt="Person thinking">
            </span>
            <span class='feature f2'>
                <b class='feature-name'>Army Efficiency</b>
                <span class='feature-content'>
                    Are you utilizing your army effectively?
                    Army Efficiency covers unit cost effectiveness, army composition
                    and trading efficiency
                </span>
                <img src="https://img.icons8.com/nolan/100/000000/combo-chart.png" alt="Graph">
            </span>
            <span class='feature f3'>
                <b class='feature-name'>Multitasking</b>
                <span class='feature-content'>
                    Is your attention in the right place at the right time?
                    Multitasking covers context switching, hotkey usage and camera positioning
                </span>
                <img src="https://img.icons8.com/nolan/100/000000/workflow.png" alt="Small flowchart">
            </span>
        </div>
    </div>

    <div class='progress'>
        <h2 class='thick-highlight'>Track your progress</h2>
        <div class='f1'>
            <b class='feature-name'>Multiple Metrics</b>
            <br>
            <p class='feature-content'>
                View multiple performance metrics and see how they
                improve and interact with each other over time
            </p>
        </div>
        <div class='f2'>
            <b class='feature-name'>Play Sessions</b>
            <br>
            <p class='feature-content'>
                See your performance in daily/weekly play sessions
                and check how it measures up to your average performance
            </p>
        </div>
        <img src="{% static 'site_structure/graph-new.png' %}" alt="Graph">
        <!-- <div id='plotly'>
            <img id='export'>
        </div>
        <script>
            var d3 = Plotly.d3;
            var img_png= d3.select('#export');

            // Plotting the Graph

            var trace={x:[0,1,2,3,4,5,6,7,8,9],y:[4246,3999,4198,4161,4362,4317,4254,4119,4352,4616],type:"scatter", name:'MMR'};
            var trace2={x:[0,1,2,3,4,5,6,7,8,9],y:[55,53,45,40,38,43,42,35,32,28],type:"scatter",yaxis: 'y2', name:'Supply Block'};
            var data = [trace, trace2];
            var layout = {
                            title : "MMR vs Supply Block",
                            font: {
                                color: 'hsl(0, 0%, 85%)',
                            },
                            paper_bgcolor: 'rgba(0,0,0,0)',
                            plot_bgcolor: 'rgba(0,0,0,0)',
                            color: 'rgba(0,0,0,0)',
                            yaxis: {
                                showgrid: false,
                                zerolinecolor: 'rgba(0,0,0,0)',
                                title: 'MMR'
                            },
                            yaxis2: {
                                overlaying: 'y',
                                showgrid: false,
                                zerolinecolor: 'rgba(0,0,0,0)',
                                side: 'right',
                                title: 'Supply Block'
                              },
                            xaxis: {
                                showgrid: false,
                                zerolinecolor: 'rgba(0,0,0,0)',
                                title: 'Days Played'
                            },
                            colorway: ['hsl(198, 90%, 32%)', 'hsl(0, 0%, 75%)']
                        };
            Plotly.plot(
               'plotly',
               data,
               layout)

            // static image in jpg format

            .then(
                function(gd)
                 {
                  Plotly.toImage(gd,{height:472,width:800})
                     .then(
                         function(url)
                     {
                         img_png.attr("src", url);
                         return Plotly.toImage(gd,{format:'png',height:472,width:800});
                     }
                     )
                });
        </script> -->
    </div>

    <div class='join'>
        <h2 class='thick-highlight'>Join the Beta</h2>
        <p class='feature-content'>
            We're currently in the process of launching a closed Beta. Join
            our Discord server to stay up to date with development so you can
            get access to, give feedback on and suggest new features for Zephyrus
            as soon as we launch!
        </p>
    </div>

    <div class='banner end'>
        <span>Register your interest on Discord</span>
        <button><a href='https://discord.gg/Bdb5zFV'>Join Server</a></button>
    </div>
{% endblock %}

{% block js %}
    <script>

        var header_placeholder = document.getElementById("placeholder")
        var arrow = document.getElementById("bottom-banner")

        // When the user scrolls the page, execute myFunction
        window.onscroll = function() {myFunction()};

        // Get the header
        function hideHeader() {
            header_placeholder.style.zIndex = '-1';
        }

        // Add the sticky class to the header when you reach its scroll position. Remove "sticky" when you leave the scroll position
        function myFunction() {
          if (window.pageYOffset > 0) {
            arrow.style.animationName = 'fadeout';
            arrow.style.animationDuration = '0.2s';
            arrow.style.opacity = '0';
          } else if (window.pageYOffset == 0) {
            arrow.style.animationName = 'fadein';
            arrow.style.animationDuration = '0.2s';
            arrow.style.opacity = '1';
          } if (window.pageYOffset > 500) {
            header_placeholder.style.animationName = 'fadein';
            header_placeholder.style.animationDuration = '0.3s';
            header_placeholder.style.opacity = '1';
            header_placeholder.removeEventListener("mouseover", hideHeader);
            header_placeholder.style.zIndex = '1';
          } else if (header_placeholder.style.opacity == '1') {
            header_placeholder.style.animationName = 'fadeout';
            header_placeholder.style.animationDuration = '0.3s';
            header_placeholder.style.opacity = '0';
            header_placeholder.addEventListener("mouseover", hideHeader);
          }
        }
    </script>
{% endblock %}
